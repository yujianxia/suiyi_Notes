(window.webpackJsonp=window.webpackJsonp||[]).push([[216],{614:function(s,t,a){"use strict";a.r(t);var n=a(25),v=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"项目性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目性能优化"}},[s._v("#")]),s._v(" 项目性能优化")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"_1-编码优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-编码优化"}},[s._v("#")]),s._v(" "),a("strong",[s._v("1. 编码优化")])]),s._v(" "),a("p",[s._v("编码优化，指的就是 在代码编写时的，通过一些 "),a("strong",[s._v("最佳实践")]),s._v("，提升代码的执行性能。通常这并不会带来非常大的收益，但这属于 程序猿的自修养，而且这也是面试中经常被问到的一个方面，考察自管理与细节的处理。")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("数据读取")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("通过"),a("code",[s._v("作用域链")]),s._v(" / "),a("code",[s._v("原型链")]),s._v(" 读取变量或方法时，需要更多的耗时，且越长越慢；")])]),s._v(" "),a("li",[a("p",[s._v("对象嵌套越深，读取值也越慢；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("最佳实践")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("尽量在局部作用域中进行 "),a("strong",[s._v("变量缓存")]),s._v("；")])]),s._v(" "),a("li",[a("p",[s._v("避免嵌套过深的数据结构，"),a("strong",[s._v("数据扁平化")]),s._v(" 有利于数据的读取和维护；")])])])])])]),s._v(" "),a("li",[a("p",[s._v("循环: 循环通常是编码性能的关键点；")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("代码的性能问题会再循环中被指数倍放大；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("最佳实践")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("尽可能 "),a("strong",[s._v("减少循环次数")]),s._v("；")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("减少遍历的数据量；")])]),s._v(" "),a("li",[a("p",[s._v("完成目的后马上结束循环；")])])])]),s._v(" "),a("li",[a("p",[s._v("避免在循环中执行大量的运算，避免重复计算，相同的执行结果应该使用缓存；")])]),s._v(" "),a("li",[a("p",[s._v("js 中使用 "),a("strong",[s._v("倒序循环")]),s._v(" 会略微提升性能；")])]),s._v(" "),a("li",[a("p",[s._v("尽量避免使用 for-in 循环，因为它会枚举原型对象，耗时大于普通循环；")])])])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("条件流程性能")]),s._v(": "),a("code",[s._v("Map")]),s._v(" / "),a("code",[s._v("Object")]),s._v(" > "),a("code",[s._v("switch")]),s._v(" > "),a("code",[s._v("if-else")])])])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 if-else")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 switch")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("switch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 Map")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 Objext")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nobj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("ul",[a("li",[a("p",[a("strong",[s._v("减少 cookie 体积")]),s._v(": 能有效减少每次请求的体积和响应时间；")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("去除不必要的 "),a("code",[s._v("cookie")]),s._v("；")])]),s._v(" "),a("li",[a("p",[s._v("压缩 "),a("code",[s._v("cookie")]),s._v(" 大小；")])]),s._v(" "),a("li",[a("p",[s._v("设置 "),a("code",[s._v("domain")]),s._v(" 与 过期时间；")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("dom 优化")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("减少访问 dom 的次数")]),s._v("，如需多次，将 dom 缓存于变量中；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("减少重绘与回流")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("多次操作合并为一次；")])]),s._v(" "),a("li",[a("p",[s._v("减少对计算属性的访问；")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("例如 offsetTop， getComputedStyle 等")])]),s._v(" "),a("li",[a("p",[s._v("因为浏览器需要获取最新准确的值，因此必须立即进行重排，这样会破坏了浏览器的队列整合，尽量将值进行缓存使用；")])])])]),s._v(" "),a("li",[a("p",[s._v("大量操作时，可将 dom 脱离文档流或者隐藏，待操作完成后再重新恢复；")])]),s._v(" "),a("li",[a("p",[s._v("使用"),a("code",[s._v("DocumentFragment")]),s._v(" / "),a("code",[s._v("cloneNode")]),s._v(" / "),a("code",[s._v("replaceChild")]),s._v("进行操作；")])])])]),s._v(" "),a("li",[a("p",[s._v("使用事件委托，避免大量的事件绑定；")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("css 优化")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("层级扁平")]),s._v("，避免过于多层级的选择器嵌套；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("特定的选择器")]),s._v(" 好过一层一层查找:  .xxx-child-text{} 优于 .xxx .child .text{}")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("减少使用通配符与属性选择器")]),s._v("；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("减少不必要的多余属性")]),s._v("；")])]),s._v(" "),a("li",[a("p",[s._v("使用 "),a("strong",[s._v("动画属性")]),s._v(" 实现动画，动画时脱离文档流，开启硬件加速，优先使用 css 动画；")])]),s._v(" "),a("li",[a("p",[s._v("使用 "),a("code",[s._v("<link>")]),s._v(" 替代原生 "),a("code",[s._v("@import")]),s._v("；")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("html 优化")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("减少 dom 数量")]),s._v("，避免不必要的节点或嵌套；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("避免"),a("code",[s._v('<img src="" />')]),s._v("空标签")]),s._v("，能减少服务器压力，因为 src 为空时，浏览器仍然会发起请求")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("IE 向页面所在的目录发送请求；")])]),s._v(" "),a("li",[a("p",[s._v("Safari、Chrome、Firefox 向页面本身发送请求；")])]),s._v(" "),a("li",[a("p",[s._v("Opera 不执行任何操作。")])])])]),s._v(" "),a("li",[a("p",[s._v("图片提前 "),a("strong",[s._v("指定宽高")]),s._v(" 或者 "),a("strong",[s._v("脱离文档流")]),s._v("，能有效减少因图片加载导致的页面回流；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("语义化标签")]),s._v(" 有利于 SEO 与浏览器的解析时间；")])]),s._v(" "),a("li",[a("p",[s._v("减少使用 table 进行布局，避免使用"),a("code",[s._v("<br />")]),s._v("与"),a("code",[s._v("<hr />")]),s._v("；")])])])])]),s._v(" "),a("h2",{attrs:{id:"_2-页面基础优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-页面基础优化"}},[s._v("#")]),s._v(" "),a("strong",[s._v("2. 页面基础优化")])]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("引入位置")]),s._v(": css 文件"),a("code",[s._v("<head>")]),s._v("中引入， js 文件"),a("code",[s._v("<body>")]),s._v("底部引入；")]),s._v(" "),a("ul",[a("li",[s._v("影响首屏的，优先级很高的 js 也可以头部引入，甚至内联；")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("减少请求")]),s._v(" (http 1.0 - 1.1)，合并请求，正确设置 http 缓存；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("减少文件体积")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("删除多余代码")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("tree-shaking")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("UglifyJs")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("code-spliting")])])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("混淆")]),s._v(" / "),a("strong",[s._v("压缩代码")]),s._v("，开启 gzip 压缩；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("多份编译文件按条件引入")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("针对现代浏览器直接给 ES6 文件，只针对低端浏览器引用编译后的 ES5 文件；")])]),s._v(" "),a("li",[a("p",[s._v("可以利用"),a("code",[s._v('<script type="module">')]),s._v(" / "),a("code",[s._v('<script type="module">')]),s._v("进行条件引入用")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("动态 polyfill")]),s._v("，只针对不支持的浏览器引入 polyfill；")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("图片优化")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("根据业务场景，与UI探讨选择 "),a("strong",[s._v("合适质量")]),s._v("，"),a("strong",[s._v("合适尺寸")]),s._v("；")])]),s._v(" "),a("li",[a("p",[s._v("根据需求和平台，选择 "),a("strong",[s._v("合适格式")]),s._v("，例如非透明时可用 jpg；非苹果端，使用 webp；")])]),s._v(" "),a("li",[a("p",[s._v("小图片合成 "),a("code",[s._v("雪碧图")]),s._v("，低于 5K 的图片可以转换成 "),a("code",[s._v("base64")]),s._v(" 内嵌；")])]),s._v(" "),a("li",[a("p",[s._v("合适场景下，使用 "),a("code",[s._v("iconfont")]),s._v(" 或者 "),a("code",[s._v("svg")]),s._v("；")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("使用缓存")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("浏览器缓存")]),s._v(": 通过设置请求的过期时间，合理运用浏览器缓存；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("CDN缓存")]),s._v(": 静态文件合理使用 CDN 缓存技术；")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("HTML 放于自己的服务器上；")])]),s._v(" "),a("li",[a("p",[s._v("打包后的图片 / js / css 等资源上传到 CDN 上，文件带上 hash 值；")])]),s._v(" "),a("li",[a("p",[s._v("由于浏览器对单个域名请求的限制，可以将资源放在多个不同域的 CDN 上，可以绕开该限制；")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("服务器缓存")]),s._v(": 将不变的数据、页面缓存到 内存 或 远程存储(redis等) 上；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("数据缓存")]),s._v(": 通过各种存储将不常变的数据进行缓存，缩短数据的获取时间；")])])])])]),s._v(" "),a("h2",{attrs:{id:"_3-首屏渲染优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-首屏渲染优化"}},[s._v("#")]),s._v(" "),a("strong",[s._v("3. 首屏渲染优化")])]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("css / js 分割")]),s._v("，使首屏依赖的文件体积最小，内联首屏关键 css / js；")])]),s._v(" "),a("li",[a("p",[s._v("非关键性的文件尽可能的 "),a("code",[s._v("异步加载")]),s._v("和"),a("code",[s._v("懒加载")]),s._v("，避免阻塞首页渲染；")])]),s._v(" "),a("li",[a("p",[s._v("使用"),a("code",[s._v("dns-prefetch")]),s._v(" / "),a("code",[s._v("preconnect")]),s._v(" / "),a("code",[s._v("prefetch")]),s._v(" / "),a("code",[s._v("preload")]),s._v("等浏览器提供的资源提示，加快文件传输；")])]),s._v(" "),a("li",[a("p",[s._v("谨慎控制好 "),a("strong",[s._v("Web字体")]),s._v("，一个大字体包足够让功亏一篑；")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("控制字体包的加载时机；")])]),s._v(" "),a("li",[a("p",[s._v("如果使用的字体有限，那尽可能只将使用的文字单独打包，能有效减少体积；")])])])]),s._v(" "),a("li",[a("p",[s._v("合理利用 Localstorage / server-worker 等存储方式进行 "),a("strong",[s._v("数据与资源缓存")]),s._v("；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("分清轻重缓急")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("重要的元素优先渲染；")])]),s._v(" "),a("li",[a("p",[s._v("视窗内的元素优先渲染；")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("服务端渲染(SSR)")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("减少首屏需要的数据量，剔除冗余数据和请求；")])]),s._v(" "),a("li",[a("p",[s._v("控制好缓存，对数据/页面进行合理的缓存；")])]),s._v(" "),a("li",[a("p",[s._v("页面的请求使用流的形式进行传递；")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("优化用户感知")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("利用一些动画 "),a("code",[s._v("过渡效果")]),s._v("，能有效减少用户对卡顿的感知；")])]),s._v(" "),a("li",[a("p",[s._v("尽可能利用 "),a("code",[s._v("骨架屏(Placeholder)")]),s._v(" / "),a("code",[s._v("Loading")]),s._v(" 等减少用户对白屏的感知；")])]),s._v(" "),a("li",[a("p",[s._v("动画帧数尽量保证在 "),a("code",[s._v("30帧")]),s._v(" 以上，低帧数、卡顿的动画宁愿不要；")])]),s._v(" "),a("li",[a("p",[s._v("js 执行时间避免超过 "),a("code",[s._v("100ms")]),s._v("，超过的话就需要做:")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("寻找可 "),a("code",[s._v("缓存")]),s._v(" 的点；")])]),s._v(" "),a("li",[a("p",[s._v("任务的 "),a("code",[s._v("分割异步")]),s._v(" 或 "),a("code",[s._v("web worker")]),s._v(" 执行；")])])])])])])])])}),[],!1,null,null,null);t.default=v.exports}}]);
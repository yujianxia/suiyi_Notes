(window.webpackJsonp=window.webpackJsonp||[]).push([[368],{728:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),a("h1",{attrs:{id:"éœ€æ±‚åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#éœ€æ±‚åˆ†æ"}},[t._v("#")]),t._v(" éœ€æ±‚åˆ†æ")]),t._v(" "),a("p",[t._v("åœºæ™¯ä¸€ï¼š")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"demo",href:"/notes/assets/react/81a080864616489cba0372f49d5730ad_tplv-k3u1fbpfcp-watermark.image"}},[a("img",{attrs:{src:"/notes/assets/react/81a080864616489cba0372f49d5730ad_tplv-k3u1fbpfcp-watermark.image",alt:"demo"}})])]),t._v(" "),a("p",[t._v("å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå½“åœ¨æ•°ä¸‡çº§åˆ«çš„æ•°æ®ä¸­ï¼Œé€‰æ‹©ä¸€æ¡ï¼Œç‚¹å‡»"),a("strong",[t._v("æŸ¥çœ‹")]),t._v("ï¼Œè·³è½¬åˆ°å½“å‰æ•°æ®çš„è¯¦æƒ…é¡µï¼Œå½“ç‚¹å‡»æŒ‰é’®"),a("strong",[t._v("è¿”å›")]),t._v("è¿”å›æ¥ï¼Œæˆ–è€…æ˜¯æµè§ˆå™¨å‰è¿›åé€€ç­‰å…¶ä»–æ“ä½œï¼Œè¿”å›åˆ°åˆ—è¡¨é¡µçš„æ—¶å€™ã€‚è¦è®°å½•å½“å‰åˆ—è¡¨çš„ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¦è¿˜åŸç‚¹å‡»æŸ¥çœ‹"),a("strong",[t._v("æŸ¥çœ‹")]),t._v("å‰çš„é¡µé¢ã€‚ä½†æ˜¯å½“ç‚¹å‡»tabèœå•æŒ‰é’®çš„æ—¶å€™ï¼Œè¦æ¸…é™¤é¡µé¢ä¿¡æ¯ã€‚")]),t._v(" "),a("p",[t._v("åœºæ™¯äºŒï¼š")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"demo",href:"/notes/assets/react/d23019cf79d347a4b3f3e02352f1c971_tplv-k3u1fbpfcp-watermark.image"}},[a("img",{attrs:{src:"/notes/assets/react/d23019cf79d347a4b3f3e02352f1c971_tplv-k3u1fbpfcp-watermark.image",alt:"demo"}})])]),t._v(" "),a("p",[t._v("å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå½“ç¼–è¾‘å†…å®¹çš„æ—¶å€™ï¼Œä¸€äº›æ•°æ®å¯èƒ½ä»å…¶ä»–é¡µé¢è·å¾—ï¼Œæ‰€ä»¥è¦æ±‚ï¼Œæ— è®ºåˆ‡æ¢è·¯ç”±ï¼Œåˆ‡æ¢é¡µé¢ï¼Œå½“å‰é¡µé¢çš„ç¼–è¾‘ä¿¡æ¯å‡ä¸èƒ½è¢«ç½®ç©ºï¼Œåªæœ‰ç‚¹å‡»"),a("strong",[t._v("ç¡®å®š")]),t._v(" ï¼Œ"),a("strong",[t._v("é‡ç½®")]),t._v("ï¼Œè¡¨å•æ‰å†…å®¹ç½®ç©ºã€‚")]),t._v(" "),a("p",[t._v("åœºæ™¯ä¸‰ï¼š")]),t._v(" "),a("p",[t._v("åœºæ™¯ä¸€ + åœºæ™¯äºŒ æ˜¯æ›´å¤æ‚çš„ç¼“å­˜é¡µé¢ä¿¡æ¯åœºæ™¯ã€‚")]),t._v(" "),a("h1",{attrs:{id:"äºŒ-æ¢³ç†éœ€æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äºŒ-æ¢³ç†éœ€æ±‚"}},[t._v("#")]),t._v(" äºŒ æ¢³ç†éœ€æ±‚")]),t._v(" "),a("h2",{attrs:{id:"_1-è§£å†³æ–¹æ¡ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-è§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" 1 è§£å†³æ–¹æ¡ˆ")]),t._v(" "),a("h3",{attrs:{id:"_1-æ•°æ®çŠ¶æ€ç¼“å­˜åˆ°å…¬å…±ç®¡ç†å¯è¡Œæ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ•°æ®çŠ¶æ€ç¼“å­˜åˆ°å…¬å…±ç®¡ç†å¯è¡Œæ€§"}},[t._v("#")]),t._v(" 1 æ•°æ®çŠ¶æ€ç¼“å­˜åˆ°å…¬å…±ç®¡ç†å¯è¡Œæ€§")]),t._v(" "),a("p",[t._v("è¿™ä¸ªéœ€æ±‚é¦–å…ˆè®©æƒ³åˆ°çš„æ˜¯ç”¨"),a("code",[t._v("redux")]),t._v("æˆ–è€…æ˜¯"),a("code",[t._v("mobx")]),t._v("æ¥æŠŠé¡µé¢çš„çŠ¶æ€ç¼“å­˜èµ·æ¥ï¼Œç„¶ååˆ‡æ¢é¡µé¢çš„æ—¶å€™ï¼ŒæŠŠè¿™äº›æ•°æ®ç¼“å­˜è¿›å»ï¼Œå†æ¬¡åˆ‡æ¢å›æ¥çš„æ—¶å€™ï¼Œå°†æ•°æ®å–å‡ºæ¥ï¼Œè¿™æ ·å°±ä¸€ä¸ªé—®é¢˜ï¼Œå³ä¾¿èƒ½ç¼“å­˜"),a("code",[t._v("state")]),t._v("å±‚ï¼Œä½†æ˜¯å¦‚æœä¸€äº›è¡¨å•ç»„ä»¶æ˜¯éå—æ§ç»„ä»¶ï¼Œæ˜¯æ— æ³•ç¼“å­˜ä¸‹æ¥çš„ï¼Œè¿˜æœ‰ä¸€äº›"),a("code",[t._v("dom")]),t._v("çŠ¶æ€æ˜¯ç¼“å­˜ä¸äº†çš„ï¼Œæ¯”å¦‚æ‰‹åŠ¨æ·»åŠ çš„ä¸€äº›æ ·å¼ç­‰ã€‚è¿˜æœ‰å°±æ˜¯å®é™…æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œæœ‰å¯Œæ–‡æœ¬ç»„ä»¶ï¼Œä½ æ˜¯æ— æ³•ç›´æ¥è·å–ç»‘å®šçš„"),a("code",[t._v("state")]),t._v("çš„ã€‚")]),t._v(" "),a("p",[t._v("ç¬¬äºŒä¸ªåŸå› å°±æ˜¯æœ‰å¥½å‡ ä¸ªé¡¹ç›®ï¼Œè€Œä¸”é¡µé¢æ¯”è¾ƒå¤šï¼Œå¦‚æœéƒ½å»ºç«‹æ•°æ®ç®¡ç†ï¼Œé‚£ä¹ˆå·¥ä½œé‡ä¼šéå¸¸çš„å¤§ã€‚")]),t._v(" "),a("p",[t._v("æ‰€ä»¥æ•°æ®çŠ¶æ€ç¼“å­˜çš„å¯è¡Œæ€§ä¸é«˜ï¼Œå³ä¾¿å¯ä»¥å®ç°ï¼Œä¹Ÿéœ€è¦å¤§é‡çš„å¤åˆ¶ç²˜è´´ï¼Œè¿™ä¸æ˜¯çš„è¿½æ±‚ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_2-react-keepalive-routerè¯ç”Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-react-keepalive-routerè¯ç”Ÿ"}},[t._v("#")]),t._v(" 2 react-keepalive-routerè¯ç”Ÿ")]),t._v(" "),a("p",[t._v("å¯¹"),a("code",[t._v("Route")]),t._v(" å’Œ "),a("code",[t._v("Switch")]),t._v(" ç»„ä»¶åšä¸€äº›åŠŸèƒ½æ€§çš„æ‹“å±•")]),t._v(" "),a("h1",{attrs:{id:"ä¸‰è®¾è®¡é˜¶æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰è®¾è®¡é˜¶æ®µ"}},[t._v("#")]),t._v(" ä¸‰è®¾è®¡é˜¶æ®µ")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_1-äº†è§£react-fiber"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-äº†è§£react-fiber"}},[t._v("#")]),t._v(" 1 äº†è§£react-fiber")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆçš„é¡¹ç›®è¦æåˆ°"),a("code",[t._v("react-fiber")]),t._v("å‘¢ï¼Œè¿™é‡Œå…ˆè¯´ä¸€ä¸‹ï¼Œ"),a("code",[t._v("react-fiber")]),t._v("ï¼Œ "),a("code",[t._v("React Fiber")]),t._v(" æ˜¯ä» v16 ç‰ˆæœ¬å¼€å§‹å¯¹ "),a("code",[t._v("Stack Reconciler")]),t._v(" è¿›è¡Œçš„é‡å†™ï¼Œæ˜¯ v16 ç‰ˆæœ¬çš„æ ¸å¿ƒç®—æ³•å®ç°ã€‚"),a("code",[t._v("react")]),t._v("åœ¨åˆå§‹åŒ–æ„å»ºè¿‡ç¨‹ä¸­ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªç”±"),a("code",[t._v("child")]),t._v("æŒ‡å‘å­"),a("code",[t._v("fiber")]),t._v(","),a("code",[t._v("sibling")]),t._v("æŒ‡å‘å…„å¼Ÿ"),a("code",[t._v("fiber")]),t._v(","),a("code",[t._v("return")]),t._v("æŒ‡å‘çˆ¶"),a("code",[t._v("fiber")]),t._v("ä¸‰ä¸ªæŒ‡é’ˆæ„å»ºçš„"),a("code",[t._v("fiber")]),t._v("æ ‘ç»“æ„ï¼Œé‡Œé¢ä¿å­˜ç€"),a("code",[t._v("dom")]),t._v("ä¿¡æ¯ï¼Œ"),a("code",[t._v("update")]),t._v("ä¿¡æ¯ï¼Œ"),a("code",[t._v("props")]),t._v("ä¿¡æ¯ç­‰ï¼Œæ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼Œåœ¨åˆ‡æ¢é¡µé¢çš„æ—¶å€™,ç»„ä»¶é”€æ¯ï¼Œä½†æ˜¯ä½œä¸ºæ¸²æŸ“è°ƒåº¦çš„"),a("code",[t._v("react fiber")]),t._v("ä¿å­˜"),a("code",[t._v("keepalive")]),t._v("çŠ¶æ€ã€‚åªè¦"),a("code",[t._v("fiber")]),t._v("å­˜æ´»ï¼Œå°±èƒ½è·å–åˆ°"),a("code",[t._v("dom")]),t._v("å…ƒç´ ï¼Œæ•°æ®å±‚"),a("code",[t._v("state")]),t._v("ç­‰ä¿¡æ¯ã€‚")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"demo",href:"/notes/assets/react/7e28dff7b51a4c8ea54631be0e796904_tplv-k3u1fbpfcp-watermark.image"}},[a("img",{attrs:{src:"/notes/assets/react/7e28dff7b51a4c8ea54631be0e796904_tplv-k3u1fbpfcp-watermark.image",alt:"demo"}})])]),t._v(" "),a("h2",{attrs:{id:"_2-åŸºäº-react-router-dom-å’Œ-react-16-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-åŸºäº-react-router-dom-å’Œ-react-16-8"}},[t._v("#")]),t._v(" 2 åŸºäº react-router-dom å’Œ react 16.8")]),t._v(" "),a("p",[t._v("é¦–å…ˆéœ€è¦å¯¹"),a("code",[t._v("react-router")]),t._v("åº“ä¸­çš„ "),a("code",[t._v("Route")]),t._v("ç»„ä»¶å’Œ"),a("code",[t._v("Switch")]),t._v("ç»„ä»¶ä½œå‡ºæ”¹é€ ï¼Œå¯ä»¥é€šè¿‡è·¯ç”±å±‚é¢å®ç°ç¼“å­˜è·¯ç”±åŠŸèƒ½ã€‚å› ä¸ºåœ¨è®¾è®¡ä¹‹åˆï¼Œå°±æƒ³ç€å°†ç”¨ä¸åŒçš„çŠ¶æ€ç®¡ç†"),a("code",[t._v("keepalive")]),t._v("çŠ¶æ€ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œåç»­å¯ä»¥ç»™ç¼“å­˜è·¯ç”±ç»„ä»¶ï¼Œå¢åŠ ä¸€äº›é¢å¤–çš„å£°æ˜å‘¨æœŸï¼Œæ¯”å¦‚è¯´"),a("code",[t._v("vue")]),t._v("ä¸­ "),a("code",[t._v("activated")]),t._v(" å’Œ "),a("code",[t._v("deactivated")]),t._v("ä¸€æ ·ã€‚å› ä¸ºè®¾è®¡æ€æƒ³æ˜¯çŠ¶æ€ç®¡ç†ï¼Œé¡¹ç›®ä¾èµ–ä¸­ä¸æƒ³å¼•å…¥"),a("code",[t._v("redux")]),t._v("ç­‰ç¬¬ä¸‰æ–¹åº“ï¼Œæ‰€ä»¥è¿™é‡Œé€‰äº†"),a("code",[t._v("react-hooks")]),t._v("ä¸­ "),a("code",[t._v("useReducer")]),t._v("æ°åˆ°å¥½å¤„ã€‚è¿™å°±æ˜¯"),a("code",[t._v("react")]),t._v("åŸºç¡€åº“ "),a("code",[t._v("16.8+")]),t._v("çš„åŸå› ä¹‹ä¸€ã€‚å¦å¤–ä¸€ä¸ªåŸå› å°±æ˜¯"),a("code",[t._v("hooks")]),t._v("ä¸­æœ‰"),a("code",[t._v("useMemo")]),t._v("è¿™æ ·é˜²æ­¢æ¸²æŸ“ç©¿é€çš„api,æœ‰åŠ©äºè°ƒèŠ‚è·¯ç”±ç»„ä»¶çš„æ›´æ–°æ¬¡æ•°ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å·¥ä½œæµç¨‹åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å·¥ä½œæµç¨‹åˆ†æ"}},[t._v("#")]),t._v(" å·¥ä½œæµç¨‹åˆ†æ")]),t._v(" "),a("p",[t._v("å—åˆ°"),a("code",[t._v("react-router-cache-route")]),t._v("å¼€æºé¡¹ç›®çš„å¯å‘ï¼Œåœ¨è®¾è®¡æ•´ä¸ªæµç¨‹çš„æ—¶å€™ï¼Œé‡‡å–äº†"),a("strong",[t._v("äº¤æ¢"),a("code",[t._v("dom")]),t._v("æ ‘")]),t._v("çš„æ–¹å¼ã€‚")]),t._v(" "),a("h3",{attrs:{id:"åˆå§‹åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆå§‹åŒ–"}},[t._v("#")]),t._v(" åˆå§‹åŒ–ï¼š")]),t._v(" "),a("p",[t._v("æ•´ä½“è®¾è®¡æ€è·¯ç¬¬ä¸€æ¬¡åˆ‡å…¥ç¼“å­˜é¡µé¢çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œç¼“å­˜"),a("code",[t._v("Route")]),t._v("ä¼šæŠŠç»„ä»¶ï¼Œäº¤ç»™å®¹å™¨ç»„ä»¶æ¥æŒ‚è½½ï¼Œç„¶åå®¹å™¨ç»„ä»¶ç”Ÿæˆ"),a("code",[t._v("fiber")]),t._v(","),a("code",[t._v("render")]),t._v("ä¹‹åç”Ÿæˆå¯¹åº”çš„"),a("code",[t._v("dom")]),t._v("æ ‘ï¼Œå°†"),a("code",[t._v("dom")]),t._v("æ ‘äº¤ç»™"),a("code",[t._v("Route")]),t._v("ç»„ä»¶ï¼ˆä¹Ÿå°±æ˜¯çš„æ­£å¸¸çš„é¡µé¢ï¼‰ã€‚")]),t._v(" "),a("h3",{attrs:{id:"åˆ‡æ¢é¡µé¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ‡æ¢é¡µé¢"}},[t._v("#")]),t._v(" åˆ‡æ¢é¡µé¢ï¼š")]),t._v(" "),a("p",[t._v("åˆ‡æ¢é¡µé¢çš„æ—¶å€™ï¼Œè·¯ç”±ç»„ä»¶æ˜¯è‚¯å®šå¸è½½çš„ï¼Œè¿™æ—¶å€™éœ€è¦å°†çš„"),a("code",[t._v("dom")]),t._v("è¿˜ç»™å®¹å™¨ç»„ä»¶ï¼Œç„¶åå®¹å™¨ç»„ä»¶è¿›å…¥å†»ç»“çŠ¶æ€ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å†æ¬¡åˆ‡æ¢åˆ°ç¼“å­˜é¡µé¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†æ¬¡åˆ‡æ¢åˆ°ç¼“å­˜é¡µé¢"}},[t._v("#")]),t._v(" å†æ¬¡åˆ‡æ¢åˆ°ç¼“å­˜é¡µé¢ï¼š")]),t._v(" "),a("p",[t._v("å†æ¬¡è¿›å…¥è·¯ç”±é¡µé¢çš„æ—¶å€™,é¦–å…ˆä»å®¹å™¨ä¸­ï¼Œå‘ç°æœ‰è¯¥é¡µé¢çš„ç¼“å­˜ï¼Œé‚£ä¹ˆå°†å®¹å™¨è§£å°çŠ¶æ€ï¼Œç„¶åå°†"),a("code",[t._v("dom")]),t._v("æ ‘ï¼Œè¿˜ç»™å½“å‰è·¯ç”±é¡µé¢ã€‚å®Œæˆ"),a("code",[t._v("keepalive")]),t._v("çŠ¶æ€ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç¼“å­˜é”€æ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼“å­˜é”€æ¯"}},[t._v("#")]),t._v(" ç¼“å­˜é”€æ¯ï¼š")]),t._v(" "),a("p",[t._v("é¡¹ç›®æ”¯æŒé”€æ¯ç¼“å­˜åŠŸèƒ½ï¼Œè°ƒç”¨é”€æ¯æ–¹æ³•,ä¼šå¸è½½å½“å‰ç¼“å­˜å®¹å™¨ï¼Œè¿›ä¸€æ­¥é”€æ¯"),a("code",[t._v("fiber")]),t._v(" å’Œ "),a("code",[t._v("dom")]),t._v(" ï¼Œå®Œæˆæ•´ä¸ªé”€æ¯åŠŸèƒ½ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å·¥ä½œæµç¨‹å›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å·¥ä½œæµç¨‹å›¾"}},[t._v("#")]),t._v(" å·¥ä½œæµç¨‹å›¾")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"demo",href:"/notes/assets/react/d8984d3899644b86bf9ecb3f4e5324e1_tplv-k3u1fbpfcp-watermark.image"}},[a("img",{attrs:{src:"/notes/assets/react/d8984d3899644b86bf9ecb3f4e5324e1_tplv-k3u1fbpfcp-watermark.image",alt:"demo"}})])]),t._v(" "),a("h2",{attrs:{id:"å·¥ä½œåŸç†å›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å·¥ä½œåŸç†å›¾"}},[t._v("#")]),t._v(" å·¥ä½œåŸç†å›¾")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"demo",href:"/notes/assets/react/2d85d06f66fe4c009c6e9c45b75e045f_tplv-k3u1fbpfcp-watermark.image"}},[a("img",{attrs:{src:"/notes/assets/react/2d85d06f66fe4c009c6e9c45b75e045f_tplv-k3u1fbpfcp-watermark.image",alt:"demo"}})])]),t._v(" "),a("h2",{attrs:{id:"è®¾è®¡çš„ä¼˜åŠ¿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾è®¡çš„ä¼˜åŠ¿"}},[t._v("#")]),t._v(" è®¾è®¡çš„ä¼˜åŠ¿")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("å› ä¸ºå†…éƒ¨è¿ç”¨äº† "),a("code",[t._v("useReducer")]),t._v(" çŠ¶æ€ç®¡ç†ï¼Œç®¡ç†ç¼“å­˜çŠ¶æ€ï¼Œå¯ä»¥æ›´çµæ´»ï¼Œæ“çºµç¼“å­˜è·¯ç”±ç»„ä»¶ï¼Œé‡‡ç”¨"),a("code",[t._v("react hooks")]),t._v("å…¨æ–°"),a("code",[t._v("api")]),t._v(",æ¸²æŸ“èŠ‚æµï¼Œæ‰‹åŠ¨è§£é™¤ç¼“å­˜ï¼Œå¢åŠ äº†ç¼“å­˜çš„çŠ¶æ€å‘¨æœŸï¼Œç›‘å¬å‡½æ•°ç­‰ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("è¿™å¥—ç¼“å­˜é¡µé¢çš„æ€æƒ³ï¼Œä¸ä»…ä»…å¯ä»¥ç”¨åœ¨è·¯ç”±é¡µé¢çº§åˆ«ï¼ŒåæœŸå¯ä»¥è¿ç§»çš„"),a("code",[t._v("component")]),t._v("ç»„ä»¶çº§åˆ«ä¸Šæ¥ã€‚ä¹Ÿæ˜¯åç»­ç»´æŠ¤å’Œå¼€å‘çš„æ–¹å‘ã€‚")])])]),t._v(" "),a("h1",{attrs:{id:"å››-ä½¿ç”¨ç®€ä»‹-å¿«é€Ÿä¸Šæ‰‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å››-ä½¿ç”¨ç®€ä»‹-å¿«é€Ÿä¸Šæ‰‹"}},[t._v("#")]),t._v(" å›› ä½¿ç”¨ç®€ä»‹ + å¿«é€Ÿä¸Šæ‰‹")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"ä¸‹è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‹è½½"}},[t._v("#")]),t._v(" ä¸‹è½½")]),t._v(" "),a("p",[t._v("å› ä¸ºæ˜¯æŠŠé¡¹ç›®ä¸Šä¼ åˆ°äº†"),a("code",[t._v("npm")]),t._v("æ–¹ä¾¿å…¶ä»–é¡¹ç›®ç”¨ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä» "),a("code",[t._v("npm")]),t._v(" ä¸Šä¸‹è½½ã€‚")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" react-keepalive-router --save\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" react-keepalive-router\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"_1-åŸºæœ¬ç”¨æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŸºæœ¬ç”¨æ³•"}},[t._v("#")]),t._v(" 1 åŸºæœ¬ç”¨æ³•")]),t._v(" "),a("h3",{attrs:{id:"keepaliverouterswitch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keepaliverouterswitch"}},[t._v("#")]),t._v(" KeepaliveRouterSwitch")]),t._v(" "),a("p",[a("code",[t._v("KeepaliveRouterSwitch")]),t._v("å¯ä»¥ç†è§£ä¸ºå¸¸è§„çš„Switch,ä¹Ÿå¯ä»¥ç†è§£ä¸º "),a("code",[t._v("keepaliveScope")]),t._v(","),a("strong",[t._v("ç¡®ä¿æ•´ä¸ªç¼“å­˜ä½œç”¨åŸŸï¼Œåªæœ‰ä¸€ä¸ª "),a("code",[t._v("KeepaliveRouterSwitch")]),t._v(" å°±å¯ä»¥äº†ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å¸¸è§„ç”¨æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§„ç”¨æ³•"}},[t._v("#")]),t._v(" å¸¸è§„ç”¨æ³•")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BrowserRouter "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Redirect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("useHistory  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" KeepaliveRouterSwitch "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("KeepaliveRoute "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("addKeeperListener "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-keepalive-router'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("index")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* å¢åŠ ç¼“å­˜ç›‘å¬å™¨ */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addKeeperListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("cacheKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å½“å‰æ¿€æ´»çŠ¶æ€ç¼“å­˜ç»„ä»¶ï¼š'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" cacheKey "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Router  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Meuns"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("KeepaliveRouterSwitch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" component"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Route"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/list'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" component"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("List"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Route"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* å°†è¯¦æƒ…é¡µåŠ å…¥ç¼“å­˜ */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("KeepaliveRoute path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/detail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" component"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Detail "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("KeepaliveRoute"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Redirect "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/*'")]),t._v(" to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/index'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("KeepaliveRouterSwitch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Router"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("p",[t._v("è¿™é‡Œåº”è¯¥æ³¨æ„âš ï¸çš„æ˜¯å¯¹äºå¤æ‚çš„è·¯ç”±ç»“æ„ã€‚æˆ–è€…"),a("code",[t._v("KeepaliveRouterSwitch")]),t._v(" åŒ…è£¹çš„å­ç»„ä»¶ä¸æ˜¯"),a("code",[t._v("Route")]),t._v(" ,è¦ç»™ "),a("code",[t._v("KeepaliveRouterSwitch")]),t._v(" å¢åŠ ç‰¹æœ‰çš„å±æ€§ "),a("code",[t._v("withoutRoute")]),t._v(" å°±å¯ä»¥äº†ã€‚å¦‚ä¸‹ä¾‹å­ğŸŒ°ğŸŒ°ğŸŒ°ï¼š")]),t._v(" "),a("p",[a("strong",[t._v("ä¾‹å­ä¸€")])]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KeepaliveRouterSwitch")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("withoutRoute")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n     ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Route")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ComponentA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n     ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Route")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ComponentB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n     ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KeepaliveRoute")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/detail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Detail "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KeepaliveRoute")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KeepaliveRouterSwitch")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[a("strong",[t._v("ä¾‹å­äºŒ")])]),t._v(" "),a("p",[t._v("æˆ–è€…å¯ä»¥ä½¿ç”¨ "),a("code",[t._v("renderRoutes")]),t._v(" ç­‰"),a("code",[t._v("api")]),t._v("é…åˆ "),a("code",[t._v("KeepliveRouterSwitch")]),t._v(" ä½¿ç”¨ ã€‚")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("renderRoutes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router-config"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KeepliveRouterSwitch")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("withoutRoute")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderRoutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KeepliveRouterSwitch")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"keepaliveroute"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keepaliveroute"}},[t._v("#")]),t._v(" KeepaliveRoute")]),t._v(" "),a("p",[a("code",[t._v("KeepaliveRoute")]),t._v(" åŸºæœ¬ä½¿ç”¨å’Œ "),a("code",[t._v("Route")]),t._v("æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("åœ¨å½“å‰ç‰ˆæœ¬ä¸­âš ï¸âš ï¸âš ï¸å¦‚æœ "),a("code",[t._v("KeepaliveRoute")]),t._v(" å¦‚æœæ²¡æœ‰è¢« "),a("code",[t._v("KeepaliveRouterSwitch")]),t._v("åŒ…è£¹å°±ä¼šå¤±å»ç¼“å­˜ä½œç”¨ã€‚")])]),t._v(" "),a("p",[a("strong",[t._v("æ•ˆæœ")])]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"demo",href:"/notes/assets/react/d29a133700134541b8bc0586e8951ab4_tplv-k3u1fbpfcp-watermark.image"}},[a("img",{attrs:{src:"/notes/assets/react/d29a133700134541b8bc0586e8951ab4_tplv-k3u1fbpfcp-watermark.image",alt:"demo"}})])]),t._v(" "),a("h2",{attrs:{id:"_2-å…¶ä»–åŠŸèƒ½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å…¶ä»–åŠŸèƒ½"}},[t._v("#")]),t._v(" 2 å…¶ä»–åŠŸèƒ½")]),t._v(" "),a("h3",{attrs:{id:"_1-ç¼“å­˜ç»„ä»¶æ¿€æ´»ç›‘å¬å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç¼“å­˜ç»„ä»¶æ¿€æ´»ç›‘å¬å™¨"}},[t._v("#")]),t._v(" 1 ç¼“å­˜ç»„ä»¶æ¿€æ´»ç›‘å¬å™¨")]),t._v(" "),a("p",[t._v("å¦‚æœå¸Œæœ›å¯¹å½“å‰æ¿€æ´»çš„ç»„ä»¶ï¼Œæœ‰ä¸€äº›é¢å¤–çš„æ“ä½œï¼Œå¯ä»¥æ·»åŠ ç›‘å¬å™¨ï¼Œç”¨æ¥ç›‘å¬ç¼“å­˜ç»„ä»¶çš„æ¿€æ´»çŠ¶æ€ã€‚")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addKeeperListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("cacheKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å½“å‰æ¿€æ´»çŠ¶æ€ç¼“å­˜ç»„ä»¶ï¼š'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" cacheKey "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("ç¬¬ä¸€ä¸ªå‚æ•°æœª"),a("code",[t._v("history")]),t._v("å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå½“å‰ç¼“å­˜è·¯ç”±çš„å”¯ä¸€æ ‡è¯†"),a("code",[t._v("cacheKey")])]),t._v(" "),a("h3",{attrs:{id:"_2-æ¸…é™¤ç¼“å­˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ¸…é™¤ç¼“å­˜"}},[t._v("#")]),t._v(" 2 æ¸…é™¤ç¼“å­˜")]),t._v(" "),a("p",[t._v("ç¼“å­˜çš„ç»„ä»¶ï¼Œæˆ–æ˜¯è¢«"),a("code",[t._v("route")]),t._v("åŒ…è£¹çš„ç»„ä»¶ï¼Œä¼šåœ¨"),a("code",[t._v("props")]),t._v("å¢åŠ é¢å¤–çš„æ–¹æ³•"),a("code",[t._v("cacheDispatch")]),t._v("ç”¨æ¥æ¸…é™¤ç¼“å­˜ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœ"),a("code",[t._v("props")]),t._v("æ²¡æœ‰"),a("code",[t._v("cacheDispatch")]),t._v("æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useCacheDispatch "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-keepalive-router'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cacheDispatch "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useCacheDispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("æ˜¯é¦–é¡µ\n        ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cacheDispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reset'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("æ¸…é™¤ç¼“å­˜")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" index\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("ol",[a("li",[t._v("æ¸…é™¤æ‰€æœ‰ç¼“å­˜")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cacheDispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reset'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("æ¸…é™¤å•ä¸ªç¼“å­˜")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cacheDispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reset'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("payload"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cacheId'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("æ¸…é™¤å¤šä¸ªç¼“å­˜")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cacheDispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reset'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("payload"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cacheId1'")]),t._v("ï¼Œ"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cacheId2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h1",{attrs:{id:"äº”-éªŒè¯é˜¶æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äº”-éªŒè¯é˜¶æ®µ"}},[t._v("#")]),t._v(" äº” éªŒè¯é˜¶æ®µ")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€ä¸ªéœ€æ±‚ï¼š")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"demo",href:"/notes/assets/react/8f4cfd3824314a36b71c26f76e7549d4_tplv-k3u1fbpfcp-watermark.image"}},[a("img",{attrs:{src:"/notes/assets/react/8f4cfd3824314a36b71c26f76e7549d4_tplv-k3u1fbpfcp-watermark.image",alt:"demo"}})])]),t._v(" "),a("p",[t._v("ç¬¬äºŒä¸ªéœ€æ±‚:")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"demo",href:"/notes/assets/react/fabcfb104f6443d991db06b764369bf9_tplv-k3u1fbpfcp-watermark.image"}},[a("img",{attrs:{src:"/notes/assets/react/fabcfb104f6443d991db06b764369bf9_tplv-k3u1fbpfcp-watermark.image",alt:"demo"}})])]),t._v(" "),a("h1",{attrs:{id:"å…­-æ‰“åŒ…é˜¶æ®µ-å‘å¸ƒnpmé˜¶æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…­-æ‰“åŒ…é˜¶æ®µ-å‘å¸ƒnpmé˜¶æ®µ"}},[t._v("#")]),t._v(" å…­ æ‰“åŒ…é˜¶æ®µ + å‘å¸ƒnpmé˜¶æ®µ")]),t._v(" "),a("h2",{attrs:{id:"rollupæ‰“åŒ…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rollupæ‰“åŒ…"}},[t._v("#")]),t._v(" rollupæ‰“åŒ…")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥å°±æ˜¯ "),a("code",[t._v("rollup")]),t._v(" æ‰“åŒ…é˜¶æ®µï¼Œ"),a("code",[t._v("rollup")]),t._v("æ‰“åŒ…é˜¶æ®µã€‚é¡¹ç›®ç»“æ„æ˜¯è¿™æ ·çš„ã€‚")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"demo",href:"/notes/assets/react/153608040d3d4fc7b520fd65c6fa3aa1_tplv-k3u1fbpfcp-watermark.image"}},[a("img",{attrs:{src:"/notes/assets/react/153608040d3d4fc7b520fd65c6fa3aa1_tplv-k3u1fbpfcp-watermark.image",alt:"demo"}})])]),t._v(" "),a("p",[a("code",[t._v("rollup.config.js")]),t._v("æ˜¯æ•´ä¸ª"),a("code",[t._v("rollup")]),t._v("çš„é…ç½®æ–‡ä»¶ï¼Œç„¶åé€šè¿‡ "),a("code",[t._v("rollup")]),t._v(" æ‰“åŒ…åçš„æ–‡ä»¶å­˜åœ¨ "),a("code",[t._v("lib")]),t._v("æ–‡ä»¶å¤¹ä¸‹ã€‚")]),t._v(" "),a("p",[a("a",{attrs:{"data-fancybox":"",title:"demo",href:"/notes/assets/react/1d705258f2654d9188516f6d15a1233c_tplv-k3u1fbpfcp-watermark.image"}},[a("img",{attrs:{src:"/notes/assets/react/1d705258f2654d9188516f6d15a1233c_tplv-k3u1fbpfcp-watermark.image",alt:"demo"}})])]),t._v(" "),a("p",[a("code",[t._v("rollup.config.js")]),t._v(" å†…å®¹å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" resolve "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rollup-plugin-node-resolve'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" babel "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rollup-plugin-babel'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" uglify "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rollup-plugin-uglify'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      input"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keepaliveRouter'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lib/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        format"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cjs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sourcemap"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      external"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'invariant'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("babel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node_modules/**'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* å‹ç¼©` */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      input"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keepaliveRouter'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lib/index.min.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        format"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'umd'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      external"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'invariant'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("babel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node_modules/**'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uglify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br")])]),a("h2",{attrs:{id:"å‘å¸ƒnpm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘å¸ƒnpm"}},[t._v("#")]),t._v(" å‘å¸ƒnpm")]),t._v(" "),a("p",[t._v("å¯¹äºå‘å¸ƒnpm")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€æ­¥ï¼šéœ€è¦åœ¨"),a("code",[t._v("npm")]),t._v("æ³¨å†Œè´¦å·ã€‚"),a("code",[t._v("https://www.npmjs.com/signup")])]),t._v(" "),a("p",[t._v("ç¬¬äºŒæ­¥ï¼š ç™»é™† "),a("code",[t._v("npm login")])]),t._v(" "),a("p",[t._v("ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º "),a("code",[t._v("package.json")])]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-keepalive-router"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* åç§° */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.1.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ç‰ˆæœ¬å· */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åŸºäº`react 16.8+` ,`react-router 4+` å¼€å‘çš„`react`ç¼“å­˜ç»„ä»¶ï¼Œå¯ä»¥ç”¨äºç¼“å­˜é¡µé¢ç»„ä»¶ï¼Œç±»ä¼¼`vue`çš„`keepalive`åŒ…è£¹`vue-router`çš„æ•ˆæœåŠŸèƒ½ã€‚"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* æè¿° */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* å…¥å£æ–‡ä»¶ */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"echo \\"Error: no test specified\\" && exit 1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rollup --config"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"keywords"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* npm å…³é”®è¯ */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keep alive"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react router"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react keep alive route"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react hooks"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"homepage"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/GoodLuckAlien/react-keepalive-router"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* æŒ‡å‘ github  */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"peerDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* npm é¡¹ç›®ä¾èµ– */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"react"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('">=16.8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"react-router-dom"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('">=4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"invariant"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('">=2"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alien"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ISC"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* å¼€å‘ç¯å¢ƒä¸‹ä¾èµ– */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@babel/core"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^7.12.3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@babel/preset-react"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^7.12.5"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@babel/preset-env"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^7.12.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@babel/plugin-proposal-class-properties"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^7.12.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rollup"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.33.3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rollup-plugin-node-resolve"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^5.2.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rollup-plugin-babel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.4.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rollup-plugin-uglify"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^6.0.4"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ç”Ÿäº§ç¯å¢ƒä¾èµ– */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"invariant"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.2.4"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br")])]),a("p",[t._v("ç¬¬å››æ­¥ï¼šä¸‡äº‹ä¿±å¤‡ä¹‹åï¼Œç”¨ "),a("code",[t._v("npm publish")]),t._v(" å‘å¸ƒã€‚")]),t._v(" "),a("p",[t._v("ç¬¬äº”æ­¥ï¼šå‡çº§ç‰ˆæœ¬ï¼Œå‡çº§ç‰ˆæœ¬å¾ˆç®€å•ï¼Œéœ€è¦åœ¨"),a("code",[t._v("package.json")]),t._v(" å‡çº§ç‰ˆæœ¬å·ï¼Œç„¶åé‡æ–° "),a("code",[t._v("npm publish")]),t._v(" å°±å¯ä»¥äº†ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("åºŸå¼ƒç‰ˆæœ¬å·")])]),t._v(" "),a("p",[t._v("å¦‚æœæƒ³åºŸå¼ƒæŸä¸ªç‰ˆæœ¬ , æ‰§è¡Œå‘½ä»¤ "),a("code",[t._v("npm deprecate <pkg>[@<version>] <message>")])]),t._v(" "),a("p",[a("strong",[t._v("åºŸå¼ƒåŒ…")])]),t._v(" "),a("p",[t._v("å¦‚æœæƒ³åºŸå¼ƒåŒ… "),a("code",[t._v("npm unpublish <pkg> --force")])]),t._v(" "),a("p",[a("strong",[a("code",[t._v(".npmignore")])])]),t._v(" "),a("p",[a("code",[t._v(".npmignore")]),t._v("é‡Œé¢å£°æ˜çš„æ–‡ä»¶å’Œæ–‡ä»¶ä»·åç§°ï¼Œä¸ä¼šè¢«ä¸Šä¼ åˆ° "),a("code",[t._v("npm")]),t._v(" , çš„é¡¹ç›®é™¤äº† "),a("code",[t._v("README.md")]),t._v(" ,"),a("code",[t._v("package.json")]),t._v(" å’Œ "),a("code",[t._v("lib")]),t._v("   ä¸‹æ‰“åŒ…çš„æ–‡ä»¶ä¹‹å¤–ï¼Œå¤§éƒ¨åˆ†æ–‡ä»¶æ˜¯å¼€å‘æ—¶å€™æˆ–è€…ç¼–è¯‘é˜¶æ®µç”¨åˆ°çš„ï¼Œä¸éœ€è¦ä¸Šä¼ åˆ°"),a("code",[t._v("npm")]),t._v("ï¼Œæ‰€ä»¥éœ€è¦åœ¨ "),a("code",[t._v(".npmignore")]),t._v(" è¿™ä¹ˆå†™")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("docs\nnode_modules\nsrc\nmd\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("babelrc\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitignore\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("npmignore\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prettierrc\nrollup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\nyarn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lock\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[a("a",{attrs:{href:"https://github.com/GoodLuckAlien/react-keepalive-router",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-keepalive-router"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);